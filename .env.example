# ===================================================================
# VerimutFS Node Configuration
# Edit this file with: nano .env
# ===================================================================

# -------------------------------------------------------------------
# ENVIRONMENT
# -------------------------------------------------------------------
NODE_ENV=production

# -------------------------------------------------------------------
# BOOTSTRAP NODE CONFIGURATION
# Set to 'true' only on bootstrap/relay nodes
# -------------------------------------------------------------------
BOOTSTRAP_MODE=false
BOOTSTRAP_PUBLIC_URL=

# If this is the FIRST (genesis) bootstrap node, set this to true
# Genesis nodes don't need other bootstrap peers
IS_GENESIS_BOOTSTRAP=false

# -------------------------------------------------------------------
# API SERVER
# -------------------------------------------------------------------
API_PORT=3001
API_HOST=0.0.0.0

# -------------------------------------------------------------------
# VNS (Verimut Name Service)
# -------------------------------------------------------------------
ENABLE_VNS=true
VFS_NAME=my-node

# VNS Bootstrap Discovery
# The .vfs name to query for bootstrap nodes (usually "bootstrap.vfs")
VNS_BOOTSTRAP_NAME=bootstrap.vfs

# -------------------------------------------------------------------
# P2P NETWORKING
# -------------------------------------------------------------------
# HTTP P2P Bootstrap Peers (comma-separated URLs)
# Example: http://34.136.60.140:3001,http://35.234.56.78:3001
# Leave empty for genesis bootstrap node
HTTP_BOOTSTRAP_PEERS=

# Automatically sync VNS entries from bootstrap nodes
AUTO_SYNC_VNS=true
VNS_SYNC_INTERVAL=60000

# -------------------------------------------------------------------
# BLOCKCHAIN CONFIGURATION
# -------------------------------------------------------------------

# Default Network (baseSepolia or polygonAmoy)
DEFAULT_NETWORK=polygonAmoy

# Base Sepolia Configuration
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org
BASE_SEPOLIA_GASLESS_CONTRACT=0xA29FC36cB931E5FAd3e825BaF0a3be176eAeA683
BASE_SEPOLIA_USDC_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e
BASE_SEPOLIA_TREASURY=0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0

# Polygon Amoy Configuration
POLYGON_AMOY_RPC_URL=https://rpc-amoy.polygon.technology
POLYGON_AMOY_GASLESS_CONTRACT=0x4960ed90f6c2821305128485fDa366DD486813e
POLYGON_AMOY_USDC_ADDRESS=0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582

# -------------------------------------------------------------------
# GAS RELAYER (CRITICAL FOR GASLESS TRANSACTIONS)
# -------------------------------------------------------------------

# Private key of wallet that pays gas fees
# ⚠️ IMPORTANT: This wallet needs ETH (Base) or MATIC (Polygon) for gas!
# ⚠️ Keep this secret! Never commit to git!
RELAYER_PRIVATE_KEY=

# Minimum balance alert threshold (in native token)
MIN_RELAYER_BALANCE=0.1

# Auto-derived from private key if not set
RELAYER_ADDRESS=

# -------------------------------------------------------------------
# DATA STORAGE
# -------------------------------------------------------------------
DATA_DIR=./verimut-data

# Enable encrypted blockstore (recommended for production)
ENABLE_ENCRYPTION=true

# -------------------------------------------------------------------
# LOGGING
# -------------------------------------------------------------------
VERBOSE=true
LOG_LEVEL=info

# -------------------------------------------------------------------
# SECURITY & RATE LIMITING
# -------------------------------------------------------------------

# Rate limiting for API endpoints
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# VNS Proof-of-Work difficulty (number of leading zeros)
POW_DIFFICULTY=3

# VNS Rate limiting
VNS_RATE_LIMIT_PER_PEER=10
VNS_RATE_LIMIT_WINDOW_MS=60000

# -------------------------------------------------------------------
# PERFORMANCE
# -------------------------------------------------------------------

# Number of concurrent HTTP P2P connections
MAX_PEER_CONNECTIONS=50

# Request timeout in milliseconds
HTTP_REQUEST_TIMEOUT=30000

# -------------------------------------------------------------------
# DEVELOPMENT / TESTING
# -------------------------------------------------------------------

# Set to true to disable PoW for VNS (testing only!)
DISABLE_POW=false

# Enable debug mode
DEBUG=false

# ===================================================================
# QUICK SETUP GUIDE
# ===================================================================
#
# FOR GENESIS BOOTSTRAP NODE (First Node):
#   1. Set: BOOTSTRAP_MODE=true
#   2. Set: IS_GENESIS_BOOTSTRAP=true
#   3. Set: BOOTSTRAP_PUBLIC_URL=http://YOUR_PUBLIC_IP:3001
#   4. Leave HTTP_BOOTSTRAP_PEERS empty
#   5. Add RELAYER_PRIVATE_KEY
#
# FOR REGULAR BOOTSTRAP NODE (Additional Relays):
#   1. Set: BOOTSTRAP_MODE=true
#   2. Set: IS_GENESIS_BOOTSTRAP=false
#   3. Set: BOOTSTRAP_PUBLIC_URL=http://YOUR_PUBLIC_IP:3001
#   4. Set: HTTP_BOOTSTRAP_PEERS=http://GENESIS_IP:3001
#   5. Add RELAYER_PRIVATE_KEY
#
# FOR REGULAR PEER NODE:
#   1. Set: BOOTSTRAP_MODE=false
#   2. Set: HTTP_BOOTSTRAP_PEERS=http://BOOTSTRAP1:3001,http://BOOTSTRAP2:3001
#   3. (Optional) Add RELAYER_PRIVATE_KEY if you want to relay transactions
#
# ===================================================================
